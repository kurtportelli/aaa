// Human readable grammar. Easier to understand than actual rewrite rules.
// This file was generated using "./aaa.py generate-grammar-file".
// A unit test should make sure this file is up to date with its source.

// The root symbol is FILE.

BEGIN = "begin"

BOOLEAN_LITERAL = ("true" | "false")

BRANCH = IF (WHITESPACE FUNCTION_BODY)? WHITESPACE (ELSE (WHITESPACE FUNCTION_BODY)? WHITESPACE)? END

ELSE = "else"

END = "end"

FILE = (WHITESPACE)? FUNCTION_DEFINITION (WHITESPACE FUNCTION_DEFINITION)* (WHITESPACE)?

FN = "fn"

FUNCTION_BODY = FUNCTION_BODY_ITEM (WHITESPACE FUNCTION_BODY_ITEM)*

FUNCTION_BODY_ITEM = (BRANCH | LOOP | OPERATION | IDENTIFIER | LITERAL)

FUNCTION_DEFINITION = FN WHITESPACE (IDENTIFIER WHITESPACE)+ BEGIN WHITESPACE (FUNCTION_BODY WHITESPACE)? END

IDENTIFIER = regex([a-z_]+)

IF = "if"

INTEGER_LITERAL = regex([0-9]+)

LITERAL = (BOOLEAN_LITERAL | INTEGER_LITERAL | STRING_LITERAL)

LOOP = WHILE WHITESPACE (FUNCTION_BODY WHITESPACE)? END

OPERATION = ("-" | "!=" | "." | "*" | "/" | "\n" | "%" | "+" | "<" | "<=" | "=" | ">" | ">=" | "and" | "drop" | "dup" | "false" | "not" | "or" | "over" | "rot" | "strlen" | "substr" | "swap" | "true")

STRING_LITERAL = regex("([^\\]|\\("|n|\\))*")

WHILE = "while"

WHITESPACE = regex([ \n]+)
